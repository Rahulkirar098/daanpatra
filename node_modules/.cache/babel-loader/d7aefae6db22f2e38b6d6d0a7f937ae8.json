{"ast":null,"code":"var _jsxFileName = \"/home/rahul/Documents/daanpatra/src/component/login/Login.jsx\";\nimport React, { useContext, useState } from \"react\";\nimport \"./login.css\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { Link } from \"react-router-dom\";\nimport { signin } from \"../../config/ApiHandler\";\nimport { otpGenerate } from \"../../config/ApiHandler\";\nimport Fade from \"react-reveal/Fade\";\nimport { useHistory } from \"react-router-dom\";\nimport { AuthenticationCtxt } from \"../../context/authenticationCtxt\";\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: \"100%\",\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n}));\nconst dispalynone = {\n  display: \"none\"\n};\nconst dispalyshow = {\n  display: \"block\"\n};\nexport default function SignIn() {\n  const classes = useStyles();\n  const authCtxt = useContext(AuthenticationCtxt);\n  const history = useHistory();\n  const [display, setDisplay] = useState(dispalynone);\n  const [phoneNo, setPhoneNo] = useState(null);\n  const [otp, setOtp] = useState(null);\n\n  const handleOtpGeneration = () => {\n    if (display === dispalyshow) {\n      signin(phoneNo, otp, response => {\n        history.push(\"/dashbord\");\n        authCtxt.setAuthData(response.User.Username);\n        localStorage.setItem(\"phoneNo\", response.User.Username);\n        localStorage.setItem(\"token\", response.Data.token_type + \" \" + response.Data.access_token);\n      });\n    } else {\n      otpGenerate(phoneNo, response => {\n        setDisplay(dispalyshow);\n      }, error => {\n        console.log(error);\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Fade, {\n    top: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    className: \"login\",\n    id: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    className: classes.avatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, \"Sign in\"), /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    id: \"phoneNo\",\n    label: \"Contact number\",\n    name: \"phoneNo\",\n    autoComplete: \"phoneNo\",\n    autoFocus: true,\n    value: phoneNo,\n    onChange: e => setPhoneNo(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    name: \"OTP\",\n    label: \"OTP\",\n    type: \"text\",\n    id: \"OTP\",\n    autoComplete: \"current-password\",\n    style: display,\n    value: otp,\n    onChange: e => setOtp(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"primary\",\n    className: classes.submit,\n    onClick: handleOtpGeneration,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, \"Sign In\"), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/signup\",\n    variant: \"body2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 15\n    }\n  }, \"Don't have an account? Sign Up\")))), /*#__PURE__*/React.createElement(Box, {\n    mt: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["/home/rahul/Documents/daanpatra/src/component/login/Login.jsx"],"names":["React","useContext","useState","Avatar","Button","CssBaseline","TextField","Grid","Box","Typography","makeStyles","Container","Link","signin","otpGenerate","Fade","useHistory","AuthenticationCtxt","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","dispalynone","dispalyshow","SignIn","classes","authCtxt","history","setDisplay","phoneNo","setPhoneNo","otp","setOtp","handleOtpGeneration","response","push","setAuthData","User","Username","localStorage","setItem","Data","token_type","access_token","error","console","log","e","target","value"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport \"./login.css\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { signin } from \"../../config/ApiHandler\";\r\nimport { otpGenerate } from \"../../config/ApiHandler\";\r\nimport Fade from \"react-reveal/Fade\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { AuthenticationCtxt } from \"../../context/authenticationCtxt\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nconst dispalynone = {\r\n  display: \"none\",\r\n};\r\n\r\nconst dispalyshow = {\r\n  display: \"block\",\r\n};\r\n\r\nexport default function SignIn() {\r\n  const classes = useStyles();\r\n  const authCtxt = useContext(AuthenticationCtxt);\r\n  const history = useHistory();\r\n  const [display, setDisplay] = useState(dispalynone);\r\n  const [phoneNo, setPhoneNo] = useState(null);\r\n  const [otp, setOtp] = useState(null);\r\n  const handleOtpGeneration = () => {\r\n    if (display === dispalyshow) {\r\n      signin(phoneNo, otp, (response) => {\r\n        history.push(\"/dashbord\");\r\n        authCtxt.setAuthData(response.User.Username);\r\n        localStorage.setItem(\"phoneNo\", response.User.Username);\r\n        localStorage.setItem(\"token\", response.Data.token_type +\" \" + response.Data.access_token)\r\n      });\r\n    } else {\r\n      otpGenerate(\r\n        phoneNo,\r\n        (response) => {\r\n          \r\n          setDisplay(dispalyshow);\r\n        },\r\n        (error) => {\r\n          console.log(error);\r\n         \r\n        }\r\n      );\r\n    }\r\n\r\n  };\r\n\r\n  return (\r\n    <Fade top>\r\n      <Container component=\"main\" maxWidth=\"xs\" className=\"login\" id=\"login\">\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}></Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign in\r\n          </Typography>\r\n\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"phoneNo\"\r\n            label=\"Contact number\"\r\n            name=\"phoneNo\"\r\n            autoComplete=\"phoneNo\"\r\n            autoFocus\r\n            value={phoneNo}\r\n            onChange={(e) => setPhoneNo(e.target.value)}\r\n          />\r\n\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"OTP\"\r\n            label=\"OTP\"\r\n            type=\"text\"\r\n            id=\"OTP\"\r\n            autoComplete=\"current-password\"\r\n            style={display}\r\n            value={otp}\r\n            onChange={(e) => setOtp(e.target.value)}\r\n          />\r\n\r\n          <Button\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            onClick={handleOtpGeneration}\r\n          >\r\n            Sign In\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item>\r\n              <Link to=\"/signup\" variant=\"body2\">\r\n                Don't have an account? Sign Up\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n        <Box mt={8}>{/* <Copyright /> */}</Box>\r\n      </Container>\r\n    </Fade>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}